query QueryMessagesInThread(
  $threadId: uuid!,
  $before: timestamptz!
) {
  messages(
    limit: 20,
    order_by: {
      created_at: desc
    },
    where: {
      thread_id: {
        _eq: $threadId,
      },
      created_at: {
        _lte: $before
      }
    }
  ) {
   created_at,
    message,
    user {
      name,
      profile_picture,
      id
    },
  	message_reactions {
      reaction_type,
      id,
      message_reaction_type {
        reaction_type
      },
      user {
        id
      }
    },
    is_image,
    updated_at,
    id
  }
}