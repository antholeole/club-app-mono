type Mutation {
  authenticate (
    idToken: String!
    identityProvider: IdentityProvider!
  ): AuthenticationResponse
}

type Mutation {
  get_or_create_dm (
    with_user_id: uuid!
  ): ThreadResponse
}

type Mutation {
  get_signed_download_link (
    sourceId: uuid!
    uploadType: UploadType!
  ): DownloadImageOutput
}

type Mutation {
  handle_device_token (
    deviceToken: String!
    handle: DeviceTokenHandleType!
  ): HandleDeviceTokenOutput
}

type Mutation {
  insert_image (
    sourceId: uuid!
    uploadType: UploadType!
    fileSize: Int!
    contentType: String!
  ): InsertImageOutput
}

type Mutation {
  join_role_with_join_codes (
    join_codes: [String]!
  ): JoinRoleWithJoinCodesOutput
}

type Mutation {
  refresh_access_token (
    refreshToken: String!
    userId: uuid!
  ): AccessToken
}

enum IdentityProvider {
  Debug
  Google
}

enum UploadType {
  GroupAvatar
  UserAvatar
  Message
}

enum DeviceTokenHandleType {
  Add
  Remove
}

input RefreshRequest {
  refreshToken : String!
  userId : uuid!
}

input JoinRoleWithJoinCodesInput {
  join_codes : [String]!
}

input InsertImageInput {
  sourceId : uuid!
  uploadType : UploadType!
}

type SampleOutput {
  downloadUrl : String!
}

type accessToken {
  accessToken : String!
}

type AccessToken {
  accessToken : String!
}

type AuthenticationResponse {
  accessToken : String!
  refreshToken : String!
  id : uuid!
  name : String!
  email : String
}

type ThreadResponse {
  id : uuid!
  name : String
}

type JoinRoleWithJoinCodesOutput {
  joined : [String]!
}

type InsertImageOutput {
  uploadUrl : String!
  imageName : String
}

type DownloadImageOutput {
  downloadUrl : String
}

type HandleDeviceTokenOutput {
  success : Boolean!
}

